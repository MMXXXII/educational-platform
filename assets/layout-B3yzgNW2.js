import{w as v}from"./with-props-CdbLO-WJ.js";import{a as r,o as e,s as t,O as w}from"./chunk-AYJ5UCUI-B1579ApN.js";import{u as j}from"./AuthContext-8jqzhkGD.js";import{F as m}from"./AcademicCapIcon-DuzTDbhn.js";import{F as h,a as y}from"./PlayIcon-BMWOxeBl.js";import{F as u}from"./DocumentTextIcon-Bx8j1DmN.js";import{F as f}from"./UserIcon-CGgSBpiG.js";import{F as N}from"./XMarkIcon-D64FOle9.js";import{F as k}from"./Bars3Icon-BkkQTm41.js";import"./config-GGwLlXRi.js";import"./indexedDB-DhaisdTJ.js";function F({title:a,titleId:s,...c},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},c),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const M=r.forwardRef(F);function C({title:a,titleId:s,...c},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},c),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const g=r.forwardRef(C);function E(){const{isAuthenticated:a,hasRole:s,isLoading:c}=j(),[n,l]=r.useState(!1),[L,i]=r.useState(!1);r.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)");i(o.matches);const d=p=>{i(p.matches)};return o.addEventListener("change",d),()=>{o.removeEventListener("change",d)}},[]);const x=o=>(o.preventDefault(),!1),b=()=>{l(!n)};return e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md fixed w-full z-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(t,{to:"/",className:"block relative",onContextMenu:x,children:[e.jsx("img",{src:"/logo.png",alt:"EduPlatform Logo",className:"h-12 sm:h-15 w-auto select-none light-mode-logo",draggable:"false"}),e.jsx("img",{src:"/dark logo.png",alt:"EduPlatform Logo",className:"h-12 sm:h-15 w-auto select-none dark-mode-logo",draggable:"false"}),e.jsx("div",{className:"absolute inset-0 z-10",onContextMenu:x,onClick:o=>o.stopPropagation()})]}),e.jsx("nav",{className:"hidden md:flex space-x-4 items-center",children:!c&&(a?e.jsxs(e.Fragment,{children:[e.jsxs(t,{to:"/courses",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center",children:[e.jsx(g,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Курсы"})]}),e.jsxs(t,{to:"/my-courses",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center",children:[e.jsx(m,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Мои курсы"})]}),s(["admin","teacher"])&&e.jsxs(t,{to:"/create-course",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center",children:[e.jsx(h,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Создать курс"})]}),e.jsxs(t,{to:"/file-manager",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Файлы"})]}),e.jsxs(t,{to:"/profile",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(f,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Профиль"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(t,{to:"/sign-in",className:"px-4 py-2 border border-blue-600 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 flex items-center",children:[e.jsx(M,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Войти"})]}),e.jsx(t,{to:"/sign-up",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700",children:"Регистрация"})]}))}),e.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-300 focus:outline-none",onClick:b,children:n?e.jsx(N,{className:"h-6 w-6"}):e.jsx(k,{className:"h-6 w-6"})})]}),n&&!c&&e.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white dark:bg-gray-800 shadow-lg py-4 px-6 z-10",children:e.jsx("nav",{className:"flex flex-col space-y-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs(t,{to:"/node-editor",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Пройти курс"})]}),e.jsxs(t,{to:"/courses",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(g,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Курсы"})]}),e.jsxs(t,{to:"/my-courses",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(m,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Мои курсы"})]}),s(["admin","teacher"])&&e.jsxs(t,{to:"/create-course",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(h,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Создать курс"})]}),s(["admin","teacher"])&&e.jsxs(t,{to:"/file-manager",className:"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(u,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Файлы"})]}),e.jsxs(t,{to:"/profile",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 flex items-center justify-center",onClick:()=>l(!1),children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Профиль"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{to:"/sign-in",className:"px-4 py-2 border border-blue-600 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 flex items-center justify-center",onClick:()=>l(!1),children:e.jsx("span",{children:"Войти"})}),e.jsx(t,{to:"/sign-up",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 flex items-center justify-center",onClick:()=>l(!1),children:"Регистрация"})]})})})]})})}function R(){return e.jsx("footer",{className:"bg-slate-900 dark:bg-slate-950 text-white py-6 sm:py-8 border-t border-slate-800",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col items-center md:items-start space-y-4",children:[e.jsx(t,{to:"/",className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"EduPlatform"}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:[e.jsx(t,{to:"/about",className:"text-sm text-slate-300 hover:text-white transition-colors hover:underline",children:"О платформе"}),e.jsx(t,{to:"/courses",className:"text-sm text-slate-300 hover:text-white transition-colors hover:underline",children:"Курсы"}),e.jsx(t,{to:"/profile",className:"text-sm text-slate-300 hover:text-white transition-colors hover:underline",children:"Профиль"})]})]}),e.jsxs("div",{className:"text-center md:text-right",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Образовательная платформа с 3D элементами"}),e.jsx("p",{className:"text-slate-500 text-xs",children:"Изучайте программирование через визуальное конструирование"})]})]}),e.jsx("div",{className:"my-6 border-t border-slate-800"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"text-slate-500 text-xs text-center sm:text-left",children:["© ",new Date().getFullYear()," EduPlatform. Все права защищены."]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("a",{href:"https://github.com/MMXXXII/educational-platform",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors text-xs",children:"GitHub"}),e.jsx("span",{className:"text-slate-600",children:"•"})]})]})]})})}const V=v(function(){const{isLoading:s}=j();return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[e.jsx(E,{}),e.jsx("div",{className:"flex-grow pt-[76px] bg-gray-50 dark:bg-gray-900",children:s?e.jsx("div",{}):e.jsx(w,{})}),e.jsx(R,{})]})});export{V as default};
