import{G as m,A as n}from"./glTFLoader-BlBnIl-i.js";import{bj as p}from"./sceneFragmentDeclaration-CNWtVIbJ.js";import{u,r as h}from"./model-viewer-CRf71ZHW.js";import"./objectModelMapping-DZbRXB0J.js";import"./with-props-CdbLO-WJ.js";import"./chunk-AYJ5UCUI-B1579ApN.js";import"./waterMaterial-DHEJP-Do.js";const s="EXT_meshopt_compression";class d{constructor(e){this.name=s,this.enabled=e.isExtensionUsed(s),this._loader=e}dispose(){this._loader=null}loadBufferViewAsync(e,a){return m.LoadExtensionAsync(e,a,this.name,(c,t)=>{const r=a;if(r._meshOptData)return r._meshOptData;const f=n.Get(`${e}/buffer`,this._loader.gltf.buffers,t.buffer);return r._meshOptData=this._loader.loadBufferAsync(`/buffers/${f.index}`,f,t.byteOffset||0,t.byteLength).then(i=>p.Default.decodeGltfBufferAsync(i,t.count,t.byteStride,t.mode,t.filter)),r._meshOptData})}}u(s);h(s,!0,o=>new d(o));export{d as EXT_meshopt_compression};
