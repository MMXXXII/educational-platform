import{Z as p}from"./sceneFragmentDeclaration-CNWtVIbJ.js";import{G as m}from"./glTFLoader-BlBnIl-i.js";import{u as l,r as h}from"./model-viewer-CRf71ZHW.js";import"./objectModelMapping-DZbRXB0J.js";import"./with-props-CdbLO-WJ.js";import"./chunk-AYJ5UCUI-B1579ApN.js";import"./waterMaterial-DHEJP-Do.js";const o="KHR_materials_ior";class i{constructor(r){this.name=o,this.order=180,this._loader=r,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(r,s,e){return m.LoadExtensionAsync(r,s,this.name,(a,d)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(r,s,e)),t.push(this._loadIorPropertiesAsync(a,d,e)),Promise.all(t).then(()=>{})})}_loadIorPropertiesAsync(r,s,e){if(!(e instanceof p))throw new Error(`${r}: Material type not supported`);return s.ior!==void 0?e.indexOfRefraction=s.ior:e.indexOfRefraction=i._DEFAULT_IOR,Promise.resolve()}}i._DEFAULT_IOR=1.5;l(o);h(o,!0,n=>new i(n));export{i as KHR_materials_ior};
