import{a as k,o as d}from"./chunk-AYJ5UCUI-B1579ApN.js";import{c as m}from"./config-GGwLlXRi.js";const o=m.apiUrl;function T({course:e,className:c="w-full h-full object-cover"}){const[s,i]=k.useState(null),x=t=>t.substring(0,2).toUpperCase(),b=t=>{const l=[{bg:"bg-blue-100",text:"text-blue-600",darkBg:"dark:bg-blue-800",darkText:"dark:text-blue-300"},{bg:"bg-green-100",text:"text-green-600",darkBg:"dark:bg-green-800",darkText:"dark:text-green-300"},{bg:"bg-yellow-100",text:"text-yellow-600",darkBg:"dark:bg-yellow-800",darkText:"dark:text-yellow-300"},{bg:"bg-purple-100",text:"text-purple-600",darkBg:"dark:bg-purple-800",darkText:"dark:text-purple-300"},{bg:"bg-red-100",text:"text-red-600",darkBg:"dark:bg-red-800",darkText:"dark:text-red-300"},{bg:"bg-cyan-100",text:"text-cyan-600",darkBg:"dark:bg-cyan-800",darkText:"dark:text-cyan-300"},{bg:"bg-indigo-100",text:"text-indigo-600",darkBg:"dark:bg-indigo-800",darkText:"dark:text-indigo-300"},{bg:"bg-pink-100",text:"text-pink-600",darkBg:"dark:bg-pink-800",darkText:"dark:text-pink-300"},{bg:"bg-orange-100",text:"text-orange-600",darkBg:"dark:bg-orange-800",darkText:"dark:text-orange-300"},{bg:"bg-teal-100",text:"text-teal-600",darkBg:"dark:bg-teal-800",darkText:"dark:text-teal-300"}],a=typeof t=="string"?t:"default";let g=0;for(let n=0;n<a.length;n++)g=(g<<5)-g+a.charCodeAt(n),g|=0;const u=Math.abs(g)%l.length;return l[u]};k.useEffect(()=>{let t=e.imageUrl||e.image_url;t?(t.startsWith("/static/")?t=`${o}/api${t}`:t.startsWith("/")?t=`${o}${t}`:!t.startsWith("http://")&&!t.startsWith("https://")&&!t.startsWith("data:")&&(t=`${o}/${t}`),i(t)):i(null)},[e]);const p=e.category||(e.categories&&e.categories.length>0?e.categories[0].name:"default"),r=b(p),f=()=>d.jsx("div",{className:`w-full h-full flex items-center justify-center ${r.bg} ${r.darkBg}`,children:d.jsx("span",{className:`font-bold text-4xl ${r.text} ${r.darkText}`,children:x(e.title)})}),h=t=>{t.target.onerror=null;const l=t.target.parentNode;if(l){const a=document.createElement("div");a.className=`w-full h-full flex items-center justify-center ${r.bg} ${r.darkBg}`,a.innerHTML=`<span class="font-bold text-4xl ${r.text} ${r.darkText}">${x(e.title)}</span>`,l.replaceChild(a,t.target)}};return s?d.jsx("img",{src:s,alt:e.title,className:c,onError:h}):f()}export{T as C};
