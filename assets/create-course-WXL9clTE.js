import{w as g}from"./with-props-CdbLO-WJ.js";import{o as e,s as a}from"./chunk-AYJ5UCUI-B1579ApN.js";import{u as p,C as h,L as b}from"./CourseFormFields-DVhEcTIr.js";import{F as f}from"./ArrowLeftIcon-DK87n-Vp.js";import{F as j}from"./ArrowPathIcon-CYqLai-V.js";import{P as y}from"./ProtectedRoute-CNKgV1SH.js";import"./coursesService-DenKHoiM.js";import"./config-GGwLlXRi.js";import"./indexedDB-DhaisdTJ.js";import"./index-BHLz7_dj.js";import"./TrashIcon-DeKKRKWf.js";import"./PencilIcon-DVEFDLXn.js";import"./PlusIcon-DynyqxMJ.js";import"./Bars3Icon-BkkQTm41.js";import"./XMarkIcon-D64FOle9.js";import"./AuthContext-8jqzhkGD.js";function C(){const{course:s,errors:r,loading:t,categories:o,lessons:n,imagePreview:i,handleCourseChange:m,handleImageChange:d,handleRemoveImage:l,handleLessonsUpdate:c,handleSubmit:x,saveCourseDataToStorage:u}=p("create");return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(a,{to:"/",className:"mr-4 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:e.jsx(f,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Создание нового курса"})]}),e.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx(h,{course:s,errors:r,categories:o,imagePreview:i,existingImageUrl:null,onCourseChange:m,onImageChange:d,onRemoveImage:l}),e.jsxs("div",{className:"mb-8",children:[e.jsx(b,{initialLessons:n,courseId:s.id,onChange:c,onNavigateToEditor:u,errors:r}),r.lessons&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:r.lessons})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx(a,{to:"/courses",className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center",children:"Отмена"}),e.jsx("button",{type:"submit",disabled:t,className:`px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ${t?"opacity-70 cursor-not-allowed":""}`,children:t?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(j,{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white"}),"Сохранение..."]}):"Создать курс"})]}),r.submit&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 rounded-lg",children:r.submit})]})]})}function M({}){return[{title:"Создание курса"},{name:"description",content:"Создайте свой образовательный курс"}]}const z=g(function(){return e.jsx(y,{requiredRoles:["admin","teacher"],children:e.jsx(C,{})})});export{z as default,M as meta};
